\section{Parser spécifique}

Un des points crucial de \emph{Kevoree-c} est la possibilité de reconstruire un état mémoire depuis un fichier représentant un modèle. Cette phase de dé-serialisation repose sur une partie critique du programme. En effet la version actuelle utilisée pour les expériences, en plus de ne fonctionner qu'avec une version fixe de \emph{KMF}, a été réalisée dans des contraintes de temps forte et ne reconnait qu'une partie minimale du méta-modèle. Le code produit ne suivant pas le patron de conception et les raisons énoncées le rendent difficilement maintenable.

Pour palier à ces défauts et mieux comprendre les mécanismes internes de \emph{Kevoree-c} j'ai donc commencé à étudier les possibilités de ré-écriture du dé-serializer.

Il devait répondre aux contraintes suivantes:

\begin{itemize}
\item avoir une faible empreinte mémoire RAM,
\item avoir le moins de traitement ad-hoc à la structure de données,
\item être facile à relire et modifier
\end{itemize}

Mon premier réflexe a été de vouloir utiliser un générateur de parser, de cette manière seule la grammaire aurait été à écrire, le parser en \emph{C} aurait été généré par l'outil.

\subsection{AntlrV3}
AntlrV4 est le générateur de parser utilisé pendant le module de compilation d'ESIR2, dans sa version 4 il ne permet pas/plus de générer du \emph{C} c'est pourquoi j'ai testé AntlrV3.

Pour vite avoir une idée du coût mémoire d'Antlr j'ai utilisé une simple grammaire reconnaissant le format JSON\footnote{https://github.com/antlr/grammars-v4/blob/master/json/JSON.g4} en partant d'un exemple de projet \emph{C} pour AntlrV3\footnote{https://github.com/antlr/examples-v3/tree/master/C}.

Malheureusement même avec une grammaire reconnaissant uniquement un fichier \emph{JSON} et n'effectuant aucune action le coût mémoire est trop important. Sans compter le poids du parser généré l'ensemble des fichiers à inclure pour le faire fonctionner pèse déjà plus de $400Kb$.

\subsection{Flex et Bison}

\subsection{}

\subsection{Tentatives de portage}

trop de limite,

\section{Compilation}

Le gros du stage pour le moment

\subsection{L'intérêt de générer du code}

\subsection{Un vrai compilateur et pas juste une transcription de modèle}